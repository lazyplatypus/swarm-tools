{"id":"opencode-swarm-monorepo-lf2p4u-mjd4pjujc7e","title":"Fix overly strict task_id regex requiring 3+ segments","description":"## Bug\nThe task_id validation regex requires minimum 3 hyphen-separated segments:\n```\n/^[a-z0-9]+(-[a-z0-9]+){2,}(\\\\.[\\\\w-]+)?$/\n```\n\nThis breaks for projects with simple names like:\n- `myproject` (1 segment)\n- `my-project` (2 segments)\n\n## Root Cause\nRegex counts total segments, but project slug length is variable. The only thing that matters is the **hash suffix** - that's the unique identifier.\n\n## Better Fix\nDon't validate segment count at all. Either:\n\n1. **Just validate the hash suffix exists** - ends with `-[a-z0-9]{10,}` or similar\n2. **Don't validate format at all** - just check it's a non-empty string, let lookup fail if invalid\n3. **Use smart ID resolution** - we already have `resolvePartialId()`, just accept any string and resolve it\n\nOption 3 is best - we already built smart ID resolution. The regex validation is redundant and overly strict. Just pass whatever the user gives us to `resolvePartialId()` and let it find the match.\n\n## Files\n- packages/opencode-swarm-plugin/src/swarm-prompts.ts (WorkerHandoff schema)\n- packages/opencode-swarm-plugin/src/schemas/*.ts","status":"in_progress","priority":1,"issue_type":"bug","created_at":"2025-12-19T17:14:05.371Z","updated_at":"2025-12-19T18:18:47.038Z","dependencies":[],"labels":[],"comments":[]}
